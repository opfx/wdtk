{
  "$schema": "http://json-schema.org/draft-07/schema",
  "title": "PHP Serve Target",
  "description": "PHP serve target options for Build Facade.",
  "type": "object",
  "properties": {
    "buildTarget": {
      "type": "string",
      "description": "A build use to build the project, in the format of `project:target[:configuration]`. You can also pass in more than one configuration name as a comma-separated list. Example: `project:target:production,staging`.",
      "pattern": "^[^:\\s]+:[^:\\s]+(:[^\\s]+)?$"
    },
    "docRoot": {
      "type": "string",
      "description": "The document root to use."
    },
    "host": {
      "type": "string",
      "description": "Host to listen on.",
      "default": "localhost"
    },
    "main": {
      "type": "string",
      "description": "The PHP file to execute."
    },
    "port": {
      "type": "number",
      "description": "Port to listen on.",
      "default": 8000
    },
    "debug": {
      "type": "object",
      "properties": {
        "clientPort": {
          "type": "number",
          "description": "The port xdebug tries to connect to the ide.",
          "default": 9000
        },
        "enabled": {
          "type": "boolean",
          "description": "Enables php xdebug extension.",
          "default": true
        },
        "mode": {
          "anyOf": [
            { "type": "string", "enum": ["off", "develop", "coverage", "debug", "gcstats", "profile", "trace"] },
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": ["develop", "coverage", "debug", "gcstats", "profile", "trace"]
              },
              "uniqueItems": true,
              "minItems": 1
            }
          ],
          "description": "Controls which Xdebug features are enabled.",
          "default": "debug"
        },
        "startWithRequest": {
          "type": "string",
          "enum": ["yes", "no", "trigger", "default"],
          "description": "Whether Xdebug enabled featured should be activated at the start of a PHP request.",
          "default": "yes"
        },
        "outputDir": {
          "type": "string",
          "description": "The directory where Xdebug will write tracing, profiling, and garbage collection statistics to."
        }
      }
    }
  },
  "additionalProperties": true
}
